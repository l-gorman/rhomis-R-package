<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 4 Indicators Explained | RHoMIS Book</title>
  <meta name="description" content="<p>This book is designed to support
people using and developing the
RHoMIS R-package</p>" />
  <meta name="generator" content="bookdown 0.27 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 4 Indicators Explained | RHoMIS Book" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="<p>This book is designed to support
people using and developing the
RHoMIS R-package</p>" />
  <meta name="github-repo" content="l-gorman/rhomis-R-package" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 4 Indicators Explained | RHoMIS Book" />
  
  <meta name="twitter:description" content="<p>This book is designed to support
people using and developing the
RHoMIS R-package</p>" />
  

<meta name="author" content="LÃ©o Gorman" />


<meta name="date" content="2022-07-19" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="data-processing.html"/>
<link rel="next" href="reporting-issues.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
<script src="libs/d3-4.5.0/d3.min.js"></script>
<script src="libs/diagonalNetwork-binding-0.4/diagonalNetwork.js"></script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">A Minimal Book Example</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> About</a><ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#key-concepts"><i class="fa fa-check"></i><b>1.1</b> Key Concepts</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="installation.html"><a href="installation.html"><i class="fa fa-check"></i><b>2</b> Installation</a></li>
<li class="chapter" data-level="3" data-path="data-processing.html"><a href="data-processing.html"><i class="fa fa-check"></i><b>3</b> Data Processing</a><ul>
<li class="chapter" data-level="3.1" data-path="data-processing.html"><a href="data-processing.html#dealing-with-units"><i class="fa fa-check"></i><b>3.1</b> Dealing with Units</a><ul>
<li class="chapter" data-level="3.1.1" data-path="data-processing.html"><a href="data-processing.html#extracting-units"><i class="fa fa-check"></i><b>3.1.1</b> Extracting Units</a></li>
<li class="chapter" data-level="3.1.2" data-path="data-processing.html"><a href="data-processing.html#converting-units"><i class="fa fa-check"></i><b>3.1.2</b> Converting Units</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="data-processing.html"><a href="data-processing.html#calculating-prices-and-preparing-calorie-conversions"><i class="fa fa-check"></i><b>3.2</b> Calculating Prices and Preparing Calorie Conversions</a><ul>
<li class="chapter" data-level="3.2.1" data-path="data-processing.html"><a href="data-processing.html#converting-units-1"><i class="fa fa-check"></i><b>3.2.1</b> Converting Units</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="data-processing.html"><a href="data-processing.html#processing-the-data-part-2"><i class="fa fa-check"></i><b>3.3</b> Processing the Data (Part 2)</a></li>
<li class="chapter" data-level="3.4" data-path="data-processing.html"><a href="data-processing.html#outputs"><i class="fa fa-check"></i><b>3.4</b> Outputs</a><ul>
<li class="chapter" data-level="3.4.1" data-path="data-processing.html"><a href="data-processing.html#indicators"><i class="fa fa-check"></i><b>3.4.1</b> Indicators</a></li>
<li class="chapter" data-level="3.4.2" data-path="data-processing.html"><a href="data-processing.html#crop-data"><i class="fa fa-check"></i><b>3.4.2</b> Crop Data</a></li>
<li class="chapter" data-level="3.4.3" data-path="data-processing.html"><a href="data-processing.html#livestock-data"><i class="fa fa-check"></i><b>3.4.3</b> Livestock Data</a></li>
<li class="chapter" data-level="3.4.4" data-path="data-processing.html"><a href="data-processing.html#off-farm-data"><i class="fa fa-check"></i><b>3.4.4</b> Off-farm Data</a></li>
<li class="chapter" data-level="3.4.5" data-path="data-processing.html"><a href="data-processing.html#consumption-calories"><i class="fa fa-check"></i><b>3.4.5</b> Consumption Calories</a></li>
<li class="chapter" data-level="3.4.6" data-path="data-processing.html"><a href="data-processing.html#consumption-value"><i class="fa fa-check"></i><b>3.4.6</b> Consumption value</a></li>
<li class="chapter" data-level="3.4.7" data-path="data-processing.html"><a href="data-processing.html#gender-control"><i class="fa fa-check"></i><b>3.4.7</b> Gender Control</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="indicators-explained.html"><a href="indicators-explained.html"><i class="fa fa-check"></i><b>4</b> Indicators Explained</a><ul>
<li class="chapter" data-level="4.1" data-path="indicators-explained.html"><a href="indicators-explained.html#where-to-start"><i class="fa fa-check"></i><b>4.1</b> Where to start</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="reporting-issues.html"><a href="reporting-issues.html"><i class="fa fa-check"></i><b>5</b> Reporting Issues</a><ul>
<li class="chapter" data-level="5.1" data-path="reporting-issues.html"><a href="reporting-issues.html#reporting-issues-1"><i class="fa fa-check"></i><b>5.1</b> Reporting Issues</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">RHoMIS Book</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="indicators-explained" class="section level1 hasAnchor">
<h1><span class="header-section-number">Chapter 4</span> Indicators Explained<a href="indicators-explained.html#indicators-explained" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>The core RHoMIS survey contains over 750 variables.
These are used to calculate key indicators, such as
<code>total_income_lcu_per_year</code>.</p>
<p>This guide is designed to explain:</p>
<ol style="list-style-type: decimal">
<li>How some of the main indicators are calculated</li>
<li>How variables are linked</li>
<li>How you can explore these calculations and indicators yourself</li>
</ol>
<p>In order to make the most of this guide, you should have a sample RHoMIS
dataset, to see how to process a âRawâ RHoMIS dataset, and produce indicators
from this dataset, please see <a href="data-processing.html#data-processing">data processing</a></p>
<div id="where-to-start" class="section level2 hasAnchor">
<h2><span class="header-section-number">4.1</span> Where to start<a href="indicators-explained.html#where-to-start" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Firstly, we have created a list of indicators. To see
the names of all of the indicators, enter the following command:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="indicators-explained.html#cb10-1"></a><span class="kw">names</span>(indicator_list)</span></code></pre></div>
<p>There are a lot of indicators here. Some of them you will find as standalone columns
in the RHoMIS Indicators Table. Others you will find in a looped format, in the processed
data. To find out more about an indicator, you can do as follows:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="indicators-explained.html#cb11-1"></a>indicator_list[[<span class="st">&quot;hh_size_mae&quot;</span>]]</span></code></pre></div>
<pre><code>## $indicator_name
## [1] &quot;hh_size_mae&quot;
## 
## $output_format
## [1] &quot;column&quot;
## 
## $individual_columns_required
## [1] &quot;children_under_4&quot; &quot;children_4to10&quot;   &quot;males11to24&quot;      &quot;females11to24&quot;   
## [5] &quot;males25to50&quot;      &quot;female_25_to_50&quot;  &quot;male_50_plus&quot;     &quot;female_50_plus&quot;  
## 
## $loop_columns_required
## [1] &quot;person_age&quot;     &quot;person_gender&quot;  &quot;hh_pop_rep_num&quot;
## 
## $conversion_tables_required
## [1] &quot;MAE_coeff&quot;
## 
## $api_data_required
## list()
## 
## $indicators_required
## list()
## 
## $function_calculated
## [1] &quot;calculate_household_size_members&quot;
## 
## $search_term
## [1] &quot;indicator_search_hh_size_mae&quot;</code></pre>
<p>There is a lot of information here. So letâs break it down. This is telling me
that the indicator is in a column format (in the indicator sheet). It requires a series
of individual columns, a series of looped columns and a conversion table. No other indicators
are needed to calculate âhh_size_maeâ. I can see it is calculated with the <code>calculate_household_size_members</code>. If I want to see where this function is stored in the
R-package raw code I can enter the <code>?calculate_household_size_members</code> command into the console.
I can search for the tag <code>indicator_search_hh_size_mae</code> to see exactly where the indicator is
calculated in this file.</p>
<p>Now lets look at a more complex indicator. <code>crop_income_lcu_per_year</code>:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="indicators-explained.html#cb13-1"></a>indicator_list[[<span class="st">&quot;crop_income_per_year&quot;</span>]]</span></code></pre></div>
<pre><code>## $indicator_name
## [1] &quot;crop_income_per_year&quot;
## 
## $output_format
## [1] &quot;loop&quot;
## 
## $individual_columns_required
## list()
## 
## $loop_columns_required
## [1] &quot;crop_sold_income&quot;              &quot;crop_sold_price_quantityunits&quot;
## 
## $conversion_tables_required
## [1] &quot;crop_price_unit_conversions&quot;
## 
## $api_data_required
## list()
## 
## $indicators_required
## [1] &quot;crop_sold_kg_per_year&quot;
## 
## $function_calculated
## [1] &quot;crop_income_calculations&quot;
## 
## $search_term
## [1] &quot;indicator_search_crop_income_per_year&quot;</code></pre>
<p>I can see that this comes in a loop format. It relies two looped
columns, a conversion table, and another indicator. Again I can find
the function that calculates the indicator, and use a search term to identify exactly
the point where it is calcuated.</p>
<p>However, when one indicator depends on another, we might need do know
the nested relationship (i.e, what columns does the dependency rely on).
If we want to visualise it, we could do this:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="indicators-explained.html#cb15-1"></a><span class="kw">plot_dependency_network</span>(</span>
<span id="cb15-2"><a href="indicators-explained.html#cb15-2"></a>    <span class="dt">indicator_name=</span><span class="st">&quot;crop_income_per_year&quot;</span></span>
<span id="cb15-3"><a href="indicators-explained.html#cb15-3"></a>)</span></code></pre></div>
<div id="htmlwidget-051ef99da0f4954a48be" style="width:672px;height:480px;" class="diagonalNetwork html-widget"></div>
<script type="application/json" data-for="htmlwidget-051ef99da0f4954a48be">{"x":{"root":{"name":"crop_income_per_year","children":[{"name":"crop_sold_income"},{"name":"crop_sold_price_quantityunits"},{"name":"crop_price_unit_conversions"},{"name":"crop_sold_kg_per_year","children":[{"name":"crop_use"},{"name":"crop_sold_prop"},{"name":"crop_harvest_kg_per_year","children":[{"name":"crop_name"},{"name":"crop_yield"},{"name":"crop_yield_units"},{"name":"crop_yield_units_other"},{"name":"crop_name_conversions"},{"name":"crop_yield_unit_conversions"}]}]}]},"options":{"height":null,"width":null,"fontSize":10,"fontFamily":"serif","linkColour":"#ccc","nodeColour":"#fff","nodeStroke":"steelblue","textColour":"#111","margin":{"top":null,"right":null,"bottom":null,"left":null},"opacity":0.9}},"evals":[],"jsHooks":[]}</script>
<p>A lternatively,r if we want to extract the actual information, we can do this:</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="indicators-explained.html#cb16-1"></a><span class="kw">find_nested_dependencies_list</span>(</span>
<span id="cb16-2"><a href="indicators-explained.html#cb16-2"></a>     <span class="dt">indicator_name=</span><span class="st">&quot;crop_sold_kg_per_year&quot;</span>,</span>
<span id="cb16-3"><a href="indicators-explained.html#cb16-3"></a>     <span class="dt">indicator_list=</span>indicator_list,</span>
<span id="cb16-4"><a href="indicators-explained.html#cb16-4"></a>     <span class="dt">dependency_required=</span><span class="st">&quot;loop&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;crop_use&quot;               &quot;crop_sold_prop&quot;         &quot;crop_name&quot;             
## [4] &quot;crop_yield&quot;             &quot;crop_yield_units&quot;       &quot;crop_yield_units_other&quot;</code></pre>
<p>This would find all of the looped dependencies (recursively) for the
indicator I am interested in.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="data-processing.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="reporting-issues.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/USERNAME/REPO/edit/BRANCH/03-indicator-explanations.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["_main.pdf", "_main.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
